<!doctype html>
<html>
    <head>
        <title>jsPlumb Toolkit Demonstrations</title>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
    </head>

    <body>
    <style>
        [data-lib] {
            margin-top:1rem;
            display:flex;
            flex-direction:column;
        }

        [data-built='true'] .alert-danger {
            display:none;
        }
    </style>
        <header class="h3 p-3">jsPlumb Toolkit Demonstrations</header>
        <div class="container">
            <div class="row">
                <div class="d-flex flex-column p-5 col col-6">

                    <div class="h5 mt-3">Repository configuration</div>
                    <p>
                        You'll need to follow the instructions on this page:
                        <a href="https://docs.jsplumbtoolkit.com/toolkit/6.x/lib/npm-repository" target="_blank">https://docs.jsplumbtoolkit.com/toolkit/6.x/lib/npm-repository</a> to setup your
                        local NPM for access to jsPlumb's repository.
                    </p>

                    <div class="h5 mt-3">Initializing</div>
                    <p>
                        If you're seeing this page in a web server then you've run `npm i` already. If you ran `npm run init`
                        then you'll also be able to access the Vanilla demonstrations. Otherwise you'll want to run one of
                        the build commands listed below.
                    </p>

                    <div class="h5 mt-2">Building the demonstrations</div>
                    <p>
                        You can choose to build all the demonstrations or just one set:
                    </p>
                    <ul>
                        <li>
                            <strong>npm run build:vanilla</strong>
                            <p>Builds the 'vanilla' demonstrations, that is all of the demonstrations that do not use a library integration.</p>
                        </li>
                        <li>
                            <strong>npm run build:angular</strong>
                            <p>Builds the demonstrations that use the Angular integration</p>
                        </li>
                        <li>
                            <strong>npm run build:react</strong>
                            <p>Builds the demonstrations that use the React integration.</p>
                        </li>
                        <li>
                            <strong>npm run build:vue2</strong>
                            <p>Builds the demonstrations that use the Vue 2 integration</p>
                        </li>
                        <li>
                            <strong>npm run build:vue3</strong>
                            <p>Builds the demonstrations that use the Vue 3 integration</p>
                        </li>
                        <li>
                            <strong>npm run build:svelte</strong>
                            <p>Builds the demonstrations that use the Svelte integration.</p>
                        </li>
                        <li>
                            <strong>npm run build:all</strong>
                            <p>Builds all of the demonstrations.  This may take a little while.</p>
                        </li>
                    </ul>

                </div>

                <div class="d-flex flex-column p-5 col col-6" id="demo-list">
                    <div data-lib="vanilla">
                        <div class="h5">Vanilla</div>
                        <div class="alert alert-danger">
                            No vanilla demonstrations have been built! See instructions on the left hand side of this page.
                        </div>
                    </div>

                    <div data-lib="angular">
                        <div class="h5">Angular</div>
                        <div class="alert alert-danger">
                            No Angular demonstrations have been built! See instructions on the left hand side of this page.
                        </div>
                    </div>

                    <div data-lib="vue2">
                        <div class="h5">Vue2</div>
                        <div class="alert alert-danger">
                            No Vue 2 demonstrations have been built! See instructions on the left hand side of this page.
                        </div>
                    </div>

                    <div data-lib="vue3">
                        <div class="h5">Vue 3</div>
                        <div class="alert alert-danger">
                            No Vue 3 demonstrations have been built! See instructions on the left hand side of this page.
                        </div>
                    </div>

                    <div data-lib="react">
                        <div class="h5">React</div>
                        <div class="alert alert-danger">
                            No React demonstrations have been built! See instructions on the left hand side of this page.
                        </div>
                    </div>

                    <div data-lib="svelte">
                        <div class="h5">Svelte</div>
                        <div class="alert alert-danger">
                            No Svelte demonstrations have been built! See instructions on the left hand side of this page.
                        </div>
                    </div>



                </div>
            </div>
        </div>

        <script>

            (function() {
                var categories = ['vanilla', 'angular', 'svelte', 'vue2', 'vue3', 'react'];

                function _add(lib, name, target) {
                    var root = document.querySelector("[data-lib='" + lib + "']")
                    root.setAttribute("data-built", true)
                    var a = document.createElement("a")
                    a.setAttribute("href", target)
                    root.appendChild(a)
                    a.innerHTML = name;
                }

                function _oneSet(lib, linkGen) {
                    fetch(`./demonstrations-${lib}.json`, {
                        method:"get"
                    }).then(r => r.json()).then(d => {
                        try {
                            for (let dir in d) {
                                _add(lib, dir, linkGen(dir, d[dir]))
                            }
                        } catch (e) {
                            console.log("Error processing demonstrations for " + lib + " " + e)
                        }
                    }).catch(e => { })
                }

                _oneSet("vanilla", function(name, version) {
                    return `src/vanilla/${name}/${version}/index.html`
                })

                _oneSet("angular", function(name, version) {
                    return `src/angular/${name}/dist/index.html`
                })

                _oneSet("react", function(name, version) {
                    return `src/react/${name}/${version}/index.html`
                })

                _oneSet("vue2", function(name, version) {
                    return `src/vue2/${name}/dist/index.html`
                })

                _oneSet("vue3", function(name, version) {
                    return `src/vue3/${name}/dist/index.html`
                })

                _oneSet("svelte", function(name, version) {
                    return `src/svelte/${name}/index.html`
                })



            })();

        </script>

    </body>

</html>
